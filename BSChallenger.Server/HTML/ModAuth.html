<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Auth</title>
</head>
<body>
    <p id="auth-text">Authenticating...</p>
    <script>
        window.onload = async () => {
            const token = window.location.hash.substring(1);
            window.location.hash = "";
            const socket = new WebSocket("ws://localhost:3000");
            socket.onopen = () => {
                console.log("token sent to mod");
                socket.send(JSON.stringify({
                    token: token
                }));
                document.getElementById("auth-text").innerHTML = "Token sent, you can close this window";
            };
            socket.onerror = () => {
                document.getElementById("auth-text").innerHTML = "Failed to open socket, is game running?";
            }
        };
    </script
</body>
<style>
    body {
        background-color: #101010;
    }
    p {
        font-family: Sans-serif;
        font-size: 50px;
        color: #DDDDDD;
        margin: auto;
    }
</style>
</html>